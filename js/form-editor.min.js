function loadPdfViewerFieldEditorSettings(field){if(epdf_gf_form_editor_strings.field_type===field.type){var elements=[];elements.push(document.getElementById("field_initial_scale"));var keys=[];keys.push("initialScale"),elements[0]&&(elements[0].value=rgar(field,keys[0]),["input","propertychange"].forEach((function(e){elements[0].addEventListener(e,(function(){SetFieldProperty(keys[0],this.value)}))})),elements[0].dispatchEvent(new Event("input"))),elements.push(document.getElementById("field_pdf_url")),keys.push("pdfUrl"),elements[1]&&(elements[1].value=rgar(field,keys[1]),["input","propertychange"].forEach((function(e){elements[1].addEventListener(e,(function(){if(SetFieldProperty(keys[1],this.value),""!==this.value)if(isValidHttpUrl(this.value))if(epdf_gf_form_editor_strings.site_url!==this.value.substring(0,epdf_gf_form_editor_strings.site_url.length)){const{__:__}=wp.i18n;setFieldError("pdf_url_setting","below",__("Only PDFs hosted by this website and other websites listing this website in a CORS header ‘Access-Control-Allow-Origin’ can load in the viewer.","embed-pdf-gravityforms")+'<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">'+__("Learn about CORS →","embed-pdf-gravityforms")+"</a>")}else resetFieldError("pdf_url_setting");else{const{__:__}=wp.i18n;setFieldError("pdf_url_setting","below",__("Please enter a valid URL.","embed-pdf-gravityforms"))}else resetFieldError("pdf_url_setting")}))})),elements[1].dispatchEvent(new Event("input"))),elements.push(document.getElementById("choose_pdf_url")),elements[2]&&(elements[2].removeEventListener("click",handleChooseClick),elements[2].addEventListener("click",handleChooseClick))}}function handleChooseClick(e){e.preventDefault();const{__:__}=wp.i18n;var file_frame=wp.media.frames.file_frame=wp.media({title:__("Choose PDF","embed-pdf-gravityforms"),button:{text:__("Load","embed-pdf-gravityforms")},frame:"select",multiple:!1});return file_frame.on("select",(function(){var attachment=file_frame.state().get("selection").first().toJSON(),urlEl=document.getElementById("field_pdf_url");urlEl||(urlEl=document.getElementById("url_pdf")),urlEl&&attachment.url&&(urlEl.value=attachment.url,urlEl.dispatchEvent(new Event("input")))})),file_frame.open(),!1}jQuery(document).on("gform_field_added",(function(event,form,field){loadPdfViewerFieldEditorSettings(field)})),gform.addAction("gform_post_load_field_settings",(function(field,form){loadPdfViewerFieldEditorSettings(field[0])}),10,2);