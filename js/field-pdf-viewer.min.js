function handleChooseClick(e){e.preventDefault();const{__:__}=wp.i18n;var file_frame=wp.media.frames.file_frame=wp.media({title:__("Choose PDF","embed-pdf-gravityforms"),button:{text:__("Load","embed-pdf-gravityforms")},frame:"select",multiple:!1});file_frame.on("select",(function(){var attachment=file_frame.state().get("selection").first().toJSON(),urlEl=document.getElementById("field_pdf_url");urlEl&&attachment.url&&(urlEl.value=attachment.url,urlEl.dispatchEvent(new Event("input")))})),file_frame.open()}gform.addAction("gform_post_load_field_settings",(function(field,form){if("pdf_viewer"!==field[0].type)return;const{__:__}=wp.i18n;var textSettings={field_initial_scale:"initialScale",field_pdf_url:"pdfUrl"};Object.keys(textSettings).forEach(key=>{var el=document.getElementById(key);el&&(el.value=rgar(field[0],textSettings[key]),["input","propertychange"].forEach((function(e){el.addEventListener(e,(function(){SetFieldProperty(textSettings[key],this.value),"field_pdf_url"===key&&(""!==this.value&&epgf_pdf_viewer_strings.site_url!==this.value.substring(0,epgf_pdf_viewer_strings.site_url.length)?setFieldError("pdf_url_setting","below",__("Only PDFs hosted by this website and other websites listing this website in a CORS header ‘Access-Control-Allow-Origin’ can load in the viewer.","embed-pdf-gravityforms")+'<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">'+__("Learn about CORS →","embed-pdf-gravityforms")+"</a>"):resetFieldError("pdf_url_setting"))}))})),el.dispatchEvent(new Event("input")))}),el=document.getElementById("choose_pdf_url"),el&&(el.removeEventListener("click",handleChooseClick),el.addEventListener("click",handleChooseClick))}),10,2);